<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>5 Game Baru Offline</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #10b981; --text: #f8fafc; }
        body { font-family: sans-serif; background: var(--bg); color: var(--text); margin: 0; text-align: center; touch-action: manipulation; }
        .container { padding: 15px; max-width: 450px; margin: auto; min-height: 100vh; }
        .menu-grid { display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 15px; }
        .card { background: var(--card); padding: 20px; border-radius: 12px; cursor: pointer; border: 1px solid #334155; display: flex; align-items: center; justify-content: space-between; }
        .card span { font-size: 24px; }
        .screen { display: none; }
        .active { display: block; }
        #game-area { background: #1e293b; border-radius: 15px; padding: 20px; min-height: 300px; position: relative; border: 2px solid var(--accent); }
        .btn-back { margin-top: 20px; padding: 12px; background: #ef4444; color: white; border: none; border-radius: 8px; width: 100%; font-weight: bold; }
        input { width: 80%; padding: 12px; font-size: 20px; border-radius: 8px; text-align: center; }
        .grid-color { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .color-box { height: 70px; border-radius: 8px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <div id="menu-screen" class="screen active">
        <h2>üéÆ 5 Game Baru</h2>
        <div class="menu-grid">
            <div class="card" onclick="startWord()">Menebak Kata (Hangman) <span>üî§</span></div>
            <div class="card" onclick="startSimon()">Simon Says (Ingatan) <span>üî¥</span></div>
            <div class="card" onclick="startTower()">Susun Menara <span>üè¢</span></div>
            <div class="card" onclick="startDiff()">Cari Warna Beda <span>üé®</span></div>
            <div class="card" onclick="startFast()">Tes Reaksi ‚ö° <span>‚è±Ô∏è</span></div>
        </div>
        <button class="btn-back" style="background:#0ea5e9" onclick="window.location.reload()">Cek Koneksi</button>
    </div>

    <div id="game-screen" class="screen">
        <h3 id="game-title">Game</h3>
        <p>Skor: <span id="score">0</span></p>
        <div id="game-area"></div>
        <button class="btn-back" onclick="location.reload()">Kembali ke Menu</button>
    </div>
</div>

<script>
    let score = 0;
    const area = document.getElementById('game-area');
    const scoreVal = document.getElementById('score');

    function openG(t) {
        document.getElementById('menu-screen').classList.remove('active');
        document.getElementById('game-screen').classList.add('active');
        document.getElementById('game-title').innerText = t;
        score = 0; scoreVal.innerText = 0;
    }

    // 1. MENEBAK KATA (HANGMAN)
    function startWord() {
        openG("Menebak Kata");
        const words = ["ABSENSI", "OFFLINE", "APPINVENTOR", "GITHUB", "KARYAWAN"];
        let target = words[Math.floor(Math.random()*words.length)];
        let guessed = [];
        function update() {
            let display = target.split('').map(l => guessed.includes(l) ? l : "_").join(" ");
            area.innerHTML = `<h1>${display}</h1><input type="text" id="inp" maxlength="1" placeholder="Ketik 1 Huruf">`;
            if(!display.includes("_")) { alert("Hebat!"); location.reload(); }
            document.getElementById('inp').oninput = function() {
                let char = this.value.toUpperCase();
                if(char && !guessed.includes(char)) { guessed.push(char); if(target.includes(char)) score += 10; scoreVal.innerText = score; update(); }
            };
        }
        update();
    }

    // 2. SIMON SAYS
    function startSimon() {
        openG("Simon Says");
        let sequence = [], userSeq = [];
        const colors = ["#ef4444", "#3b82f6", "#10b981", "#f59e0b"];
        area.innerHTML = `<div class="grid-color">${colors.map((c,i)=>`<div class="color-box" id="b${i}" onclick="checkS(${i})" style="background:${c}"></div>`).join('')}</div><p id="msg">Klik Mulai!</p><button onclick="nextS()" style="padding:10px">Mulai</button>`;
        window.nextS = () => {
            userSeq = []; sequence.push(Math.floor(Math.random()*4));
            let i = 0;
            let iv = setInterval(() => {
                let b = document.getElementById('b'+sequence[i]);
                b.style.opacity = "0.3"; setTimeout(()=>b.style.opacity="1", 300);
                i++; if(i >= sequence.length) clearInterval(iv);
            }, 600);
        };
        window.checkS = (idx) => {
            userSeq.push(idx);
            if(userSeq[userSeq.length-1] !== sequence[userSeq.length-1]) { alert("Salah!"); location.reload(); }
            if(userSeq.length === sequence.length) { score++; scoreVal.innerText = score; setTimeout(nextS, 800); }
        };
    }

    // 3. SUSUN MENARA
    function startTower() {
        openG("Susun Menara");
        area.innerHTML = '<canvas id="c" width="300" height="300"></canvas><p>Klik saat balok sejajar!</p>';
        const ctx = document.getElementById('c').getContext('2d');
        let x = 0, w = 100, y = 270, speed = 3;
        setInterval(() => {
            ctx.fillStyle = "#1e293b"; ctx.fillRect(0,0,300,300);
            ctx.fillStyle = "#10b981"; ctx.fillRect(x, y, w, 20);
            x += speed; if(x > 300-w || x < 0) speed *= -1;
        }, 20);
        document.getElementById('c').onclick = () => {
            score++; scoreVal.innerText = score;
            y -= 25; if(y < 0) { alert("Menara Penuh! Menang!"); location.reload(); }
        };
    }

    // 4. CARI WARNA BEDA
    function startDiff() {
        openG("Cari Warna Beda");
        function play() {
            let r = Math.random()*255, g = Math.random()*255, b = Math.random()*255;
            let diff = 40 - (score * 2); if(diff < 5) diff = 5;
            let target = Math.floor(Math.random()*16);
            area.innerHTML = `<div class="grid-color" style="grid-template-columns:repeat(4,1fr)">${Array(16).fill(0).map((_,i)=>`
                <div class="color-box" onclick="${i==target?'winD()':'loseD()'}" 
                style="background:rgb(${i==target?r+diff:r},${i==target?g+diff:g},${i==target?b+diff:b})"></div>`).join('')}</div>`;
        }
        window.winD = () => { score++; scoreVal.innerText = score; play(); };
        window.loseD = () => { alert("Salah pilih!"); location.reload(); };
        play();
    }

    // 5. TES REAKSI
    function startFast() {
        openG("Tes Reaksi");
        area.innerHTML = '<div id="box" onclick="hitF()" style="height:250px; background:red; display:flex; align-items:center; justify-content:center; cursor:pointer">Tunggu Hijau...</div>';
        let start, active = false;
        setTimeout(() => {
            document.getElementById('box').style.background = "green";
            document.getElementById('box').innerText = "KLIK SEKARANG!";
            start = Date.now(); active = true;
        }, 2000 + Math.random()*3000);
        window.hitF = () => {
            if(active) { alert("Reaksi Anda: " + (Date.now() - start) + "ms"); location.reload(); }
            else { alert("Terlalu Cepat!"); location.reload(); }
        };
    }
</script>
</body>
</html>
